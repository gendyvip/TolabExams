
  <div
  class="group max-w-sm bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-700/50 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 flex flex-col overflow-hidden h-full"
>
  <div class="flex-1 flex flex-col p-6">
    <div class="flex items-start justify-between mb-3">
      <h5
        class="text-xl font-semibold text-gray-800 dark:text-white line-clamp-2 pr-2"
      >
        {{ title }}
      </h5>
      <span
        class="ml-3 flex-shrink-0 px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 border border-green-200 dark:bg-green-500/10 dark:text-green-400 dark:border-green-500/30 shadow-sm"
      >
        Active
      </span>
    </div>

    <div
      class="text-sm text-gray-500 dark:text-gray-400 mb-4 flex flex-col gap-y-1"
    >
      <div class="flex items-center justify-between">
        <span class="font-medium text-gray-700 dark:text-gray-300">{{
          category
        }}</span>
        <span
          class="flex items-center text-xs font-medium bg-blue-100 text-yellow-500 dark:bg-yellow-300/30 dark:text-yellow-400 px-2.5 py-0.5 rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3 mr-1"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            />
          </svg>
          {{ questionsCount }} Questions
        </span>
      </div>
      <span class="line-clamp-3 text-gray-600 dark:text-gray-300/80 mt-2">{{
        description
      }}</span>
    </div>
    <div
      class="flex flex-col text-xs text-gray-400 dark:text-gray-500 pt-3 border-t border-gray-100 dark:border-zinc-800"
    >
      @if (instructorPublisher) {
         <div class="flex flex-row items-center">
        <svg
          class="w-5 h-5 text-gray-800 dark:text-gray-500"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12.4472 2.10557c-.2815-.14076-.6129-.14076-.8944 0L5.90482 4.92956l.37762.11119c.01131.00333.02257.00687.03376.0106L12 6.94594l5.6808-1.89361.3927-.13363-5.6263-2.81313ZM5 10V6.74803l.70053.20628L7 7.38747V10c0 .5523-.44772 1-1 1s-1-.4477-1-1Zm3-1c0-.42413.06601-.83285.18832-1.21643l3.49538 1.16514c.2053.06842.4272.06842.6325 0l3.4955-1.16514C15.934 8.16715 16 8.57587 16 9c0 2.2091-1.7909 4-4 4-2.20914 0-4-1.7909-4-4Z"
          />
          <path
            d="M14.2996 13.2767c.2332-.2289.5636-.3294.8847-.2692C17.379 13.4191 19 15.4884 19 17.6488v2.1525c0 1.2289-1.0315 2.1428-2.2 2.1428H7.2c-1.16849 0-2.2-.9139-2.2-2.1428v-2.1525c0-2.1409 1.59079-4.1893 3.75163-4.6288.32214-.0655.65589.0315.89274.2595l2.34883 2.2606 2.3064-2.2634Z"
          />
        </svg>
        <span class="ms-1 font-medium">By: {{ instructorName }}</span>
      </div>
      }
      <div class="flex flex-row items-center">
        <svg
          class="w-4 h-4 mr-1.5 ms-0.5 flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"
          />
        </svg>
        <span class="font-medium">Created on {{ formattedCreationDate }}</span>
      </div>
    </div>
  </div>
  <div
    class="bg-gray-50/70 dark:bg-zinc-800/40 px-6 py-4 border-t border-gray-200 dark:border-zinc-700/50"
  >
    @if (manage) {
    <div class="flex items-center justify-end gap-3">
      <button
        [routerLink]="getEditRoute()"
        class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-zinc-700 border border-gray-300 dark:border-zinc-600 rounded-lg shadow-sm hover:bg-gray-100 dark:hover:bg-zinc-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-zinc-900 transition-colors duration-150"
      >
        Edit
      </button>
      <button
        (click)="onDelete()"
        class="px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg shadow-sm hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-zinc-900 transition-colors duration-150"
      >
        Delete
      </button>
    </div>
    } @else {
    <a
      (click)="sendExams()"
      [routerLink]="isTaken ? null : ['/student', 'exams', id]"
      class="block w-full"
    >
      <button
        [disabled]="isTaken"
        [class]="isTaken ? 'w-full cursor-not-allowed inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-400 dark:bg-gray-600 border border-transparent rounded-lg shadow-sm' : 'w-full cursor-pointer inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-white bg-purple-600 dark:bg-purple-600 border border-transparent rounded-lg shadow-sm hover:bg-purple-700 dark:hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-600 dark:focus:ring-offset-zinc-900 transition-colors duration-150'"
      >
        {{ isTaken ? 'Already Taken' : 'View More' }}
      </button>
    </a>
    }
  </div>
</div>
